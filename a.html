<html>
  <head>
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"></script>
    <script type"text/javascript"><!--
      $(function(){
        $('#b').click(function(){
          $('#msg').text($('#f :input[name=r]:checked').val());
					var name = 'r';
					var jnode=$(':input[name="'+name+'"]');
					if(jnode.attr("type") == 'radio'){
						value = jnode.filter(':checked').val()
					}else{
						value = jnode.val();
					}
					inner = '<tr><td><input name="'+name+'" type="checkbox" '
								+ ((value=='1')? "checked" : '')
								+ "/></td></tr>"
					$('tbody').append(inner);
        });

        $('#c').click(function(){
					var name = 'r';
          //$('#msg').text($('td :input[name=r]').val()); // on
          $('#msg').text($('td :input[name='+name+']').is(':checked') ? 1:0);
					$('#f :input[name=r]').val(
						$('td :input[name='+name+']').is(':checked') ? 1:0
					);
        });
      });
      //-->
    </script>
  </head>
  <body>
    <label for="msg">message:</label><span id="msg"></span>
    <form id="f" name="f">
      <!--
      <input type="hidden" name="r" value=""/><span>on/off</span>
      -->
      <input type="radio" name="r" value="1" checked="checked"/><span>on</span>
      <input type="radio" name="r" value="0"/><span>off</span>
      <button id="b" type="button">add</button>
      <button id="c" type="button">remove</button>
		</form>
		<table>
			<tbody>
			</tbody>
		</table>
  </body>
</html>
